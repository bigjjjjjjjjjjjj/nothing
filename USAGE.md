# CourseAI 使用指南

## 目錄
1. [快速開始](#快速開始)
2. [核心功能](#核心功能)
3. [常見問題](#常見問題)
4. [最佳實踐](#最佳實踐)

---

## 快速開始

### 1. 安裝擴充功能
1. 下載並解壓縮 CourseAI 擴充功能
2. 開啟 Chrome/Edge 瀏覽器
3. 前往擴充功能管理頁面（chrome://extensions/ 或 edge://extensions/）
4. 啟用「開發人員模式」
5. 點擊「載入未封裝項目」並選擇擴充功能目錄

### 2. 配置後端服務
確保後端服務已啟動在 `http://localhost:8000`

檢查服務狀態：
```bash
curl http://localhost:8000/health
```

### 3. 開始使用
1. 加入 Google Meet 會議
2. 側邊欄會自動出現在畫面右側
3. 點擊「開始錄音」即可開始使用

---

## 核心功能

### 1. 即時語音轉錄

**啟動轉錄：**
1. 在 Google Meet 會議中，點擊側邊欄的「開始錄音」按鈕
2. 授予麥克風權限
3. 系統會即時將語音轉換為文字並顯示在轉錄區域

**功能特色：**
- 即時轉錄，延遲低於 2 秒
- 自動標記時間戳記
- 顯示信心分數（準確度指標）
- 支援中文和英文

**操作提示：**
- 綠色圓點表示已連線並正在轉錄
- 黃色圓點表示連線中斷，系統會自動重連
- 轉錄內容會即時保存到資料庫

---

### 2. 講義上傳與解析

**支援格式：**
- PDF (.pdf)
- PowerPoint (.ppt, .pptx)
- Word (.doc, .docx)

**上傳步驟：**
1. 點擊「上傳講義」區域的檔案選擇器
2. 選擇講義檔案（最大 10MB）
3. 系統會自動：
   - 提取文字內容
   - 識別表格和圖表
   - 解析公式（LaTeX 格式）
   - 計算頁數

**提取內容包括：**
- 標題和段落文字
- 表格內容
- 列表項目
- 註解和備註

---

### 3. AI 課程分析

**自動生成課程重點：**
1. 確保已上傳講義並完成一段轉錄
2. 點擊「生成課程重點」按鈕
3. 系統會分析講義和轉錄內容，生成：
   - **重點摘要**：5-10 個核心重點
   - **關鍵概念**：重要術語和定義
   - **公式清單**：所有重要公式
   - **概念關聯**：知識點之間的關係

**分析維度：**
- 內容重要性評分
- 與講義的對應關係
- 出現頻率統計
- 老師強調程度

---

### 4. 智能題目生成

**生成題目步驟：**
1. 完成課程內容分析
2. 點擊「生成試題」按鈕
3. 系統會：
   - 建議多個題目範圍（全部、章節、重點）
   - 自動選擇最佳範圍
   - 生成混合題型

**題目類型：**

**選擇題（Multiple Choice）**
- 4 個選項
- 包含干擾選項
- 附詳細解釋

**填充題（Fill in the Blank）**
- 關鍵詞挖空
- 支援多個答案
- 評分時接受同義詞

**簡答題（Short Answer）**
- 開放式問題
- AI 自動批改
- 提供改進建議

**題目品質：**
- 難度分級：簡單、中等、困難
- 涵蓋範圍標記
- 講義頁碼參考
- 課程時間戳記參考

---

### 5. 自動批改功能

**選擇題和填充題：**
- 即時自動批改
- 顯示正確答案
- 提供詳細解釋

**簡答題批改：**
1. 提交答案後，AI 會分析：
   - 概念理解程度
   - 答案完整性
   - 表達清晰度
   - 專業術語使用

2. 批改結果包括：
   - **分數**：0-10 分
   - **優點**：答得好的部分
   - **缺點**：需要改進的地方
   - **建議**：具體改進方向

**批改標準：**
- 概念正確性（40%）
- 答案完整性（30%）
- 表達清晰度（20%）
- 專業術語（10%）

---

### 6. 重點提示識別

**自動識別老師提示：**
系統會自動識別以下類型的重點提示：

1. **考試重點**（紅色標記）
   - 關鍵字：「會考」、「考試重點」、「必考」
   - 例：「這個會考，大家要記住」

2. **重要概念**（橙色標記）
   - 關鍵字：「很重要」、「核心」、「關鍵」
   - 例：「這是核心概念，一定要理解」

3. **注意事項**（黃色標記）
   - 關鍵字：「注意」、「小心」、「留意」
   - 例：「要特別注意這個地方」

4. **常見錯誤**（藍色標記）
   - 關鍵字：「常錯」、「容易錯」、「大家都」
   - 例：「這裡大家都容易弄錯」

5. **複習提醒**（綠色標記）
   - 關鍵字：「記得」、「要複習」、「回去看」
   - 例：「記得回去複習這部分」

**提示顯示：**
- 在轉錄區域下方單獨顯示
- 標記時間戳記
- 可點擊跳轉到對應位置
- 支援匯出整理

---

### 7. 智慧搜尋

**搜尋功能：**（未來功能）
- 自然語言搜尋
- 語意相似度匹配
- 跨講義和轉錄搜尋
- 時間軸定位

---

## 常見問題

### Q1: 為什麼聽不到聲音/無法轉錄？
**A:**
1. 檢查麥克風權限是否已授予
2. 確認擴充功能有 `tabCapture` 權限
3. 嘗試重新整理 Google Meet 頁面
4. 檢查瀏覽器控制台是否有錯誤訊息

### Q2: 轉錄準確度不高怎麼辦？
**A:**
1. 確保環境安靜，減少背景噪音
2. 說話清晰，語速適中
3. 使用品質較好的麥克風
4. 檢查網路連線是否穩定

### Q3: 題目生成失敗？
**A:**
1. 確認已上傳講義
2. 確認已有足夠的轉錄內容（至少 5 分鐘）
3. 檢查 OpenAI API 金鑰是否有效
4. 查看後端日誌中的錯誤訊息

### Q4: 如何匯出課程資料？
**A:**
目前支援從 API 獲取資料：
```bash
# 獲取課程資訊
curl http://localhost:8000/api/v1/courses/{course_id}

# 獲取轉錄內容
curl http://localhost:8000/api/v1/transcripts/{course_id}

# 獲取題目
curl http://localhost:8000/api/v1/quizzes/{course_id}
```

### Q5: 支援哪些語言？
**A:**
- 主要支援：中文（繁體/簡體）、英文
- 其他語言：取決於 Google Speech-to-Text 支援

---

## 最佳實踐

### 1. 錄製課程
- **課前準備**：提前上傳講義，讓系統預先解析
- **環境設置**：選擇安靜環境，使用高品質麥克風
- **及時標記**：發現重點時可手動添加標記
- **定期檢查**：留意轉錄內容是否正確

### 2. 生成題目
- **內容充足**：建議至少 30 分鐘的課程內容
- **講義完整**：上傳完整的講義有助於生成更好的題目
- **範圍選擇**：首次可選「全部範圍」，後續針對特定章節
- **難度混合**：建議選擇中等難度，涵蓋各種題型

### 3. 複習準備
- **重點提示**：優先複習被標記為「考試重點」的內容
- **錯題回顧**：重做答錯的題目，理解錯誤原因
- **概念串聯**：利用課程摘要理解知識點之間的關係
- **時間管理**：利用時間戳記快速定位需要複習的片段

### 4. 團隊協作
- **分享筆記**：可匯出課程資料與同學分享
- **討論問題**：針對簡答題的批改建議進行討論
- **補充內容**：結合不同人的筆記完善內容

---

## 隱私與安全

### 資料儲存
- 所有課程資料儲存在本地資料庫
- 不會上傳到第三方伺服器（除了 API 調用）
- 可隨時刪除課程資料

### API 使用
- OpenAI API：用於 LLM 分析和題目生成
- Google Speech-to-Text：用於語音轉文字（可選）
- 所有 API 調用使用加密連線

### 權限說明
- **麥克風**：用於擷取音訊進行轉錄
- **儲存空間**：儲存課程資料和設定
- **tabCapture**：擷取分頁音訊（Google Meet）

---

## 支援與回饋

如有問題或建議，歡迎：
- 提交 Issue 到 GitHub
- 查看文件：`README.md` 和 `DEPLOYMENT.md`
- 查看 API 文件：http://localhost:8000/docs
